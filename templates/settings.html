{% extends "base.html" %}

{% block title %}Ayarlar | Mazzel OS{% endblock %}

{% block content %}
<div class="page-title" style="margin-bottom: 32px">
    <i class="fas fa-cog"></i> Ayarlar
</div>
<p class="page-subtitle" style="margin-top: -24px; margin-bottom: 32px">Portal ayarlarını buradan yönetebilirsiniz</p>

{% if success %}<div class="success-banner"><i class="fas fa-check-circle"></i>
    <div><strong>Başarılı!</strong> Ayarlar kaydedildi.</div>
</div>{% endif %}

<form method="POST">
    <div class="settings-grid">
        <div class="settings-card">
            <h3 class="card-title"><i class="fas fa-globe"></i> Site Ayarları</h3>
            <div class="form-group"><label class="form-label">Site Başlığı</label><input type="text" name="site_title"
                    class="form-input" value="{{ settings.site_title }}"></div>
            <div class="form-group"><label class="form-label">Alt Başlık</label><textarea name="site_subtitle"
                    class="form-textarea">{{ settings.site_subtitle }}</textarea></div>
            <div class="form-group"><label class="form-label">Tema</label><select name="theme" class="form-select">
                    <option value="dark" {% if settings.theme=='dark' %}selected{% endif %}>Mor (Varsayılan)
                    </option>
                    <option value="ocean" {% if settings.theme=='ocean' %}selected{% endif %}>Okyanus</option>
                    <option value="rose" {% if settings.theme=='rose' %}selected{% endif %}>Gül</option>
                </select></div>
        </div>

        <div class="settings-card">
            <h3 class="card-title"><i class="fas fa-th"></i> Widget Ayarları</h3>
            <div class="toggle-group">
                <div>
                    <div class="toggle-label">Döviz Kurları</div>
                    <div class="toggle-desc">Canlı döviz kurlarını göster</div>
                </div><label class="toggle"><input type="checkbox" name="show_currency" {% if settings.show_currency
                        %}checked{% endif %}><span class="toggle-slider"></span></label>
            </div>
            <div class="toggle-group">
                <div>
                    <div class="toggle-label">Saat</div>
                    <div class="toggle-desc">Canlı saat gösterimi</div>
                </div><label class="toggle"><input type="checkbox" name="show_clock" {% if settings.show_clock
                        %}checked{% endif %}><span class="toggle-slider"></span></label>
            </div>
            <div class="form-group" style="margin-top: 20px;"><label class="form-label">Şehir</label><input type="text"
                    name="weather_city" class="form-input" value="{{ settings.weather_city }}">
            </div>
        </div>

        <div class="settings-card full">
            <h3 class="card-title"><i class="fas fa-puzzle-piece"></i> Modül Ayarları</h3>
            {% for module in settings.modules %}
            <div class="module-item">
                <div class="module-icon"><i class="fas {{ module.icon }}"></i></div>
                <div class="module-info"><input type="text" name="module_{{ module.id }}_name" class="module-name-input"
                        value="{{ module.name }}">
                    <div class="module-url">{{ module.url }}</div>
                </div>
                <label class="toggle"><input type="checkbox" name="module_{{ module.id }}" {% if module.enabled
                        %}checked{% endif %}><span class="toggle-slider"></span></label>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="save-bar">
        <a href="/dashboard" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> İptal</a>
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Kaydet</button>
    </div>
</form>
{% endblock %}